<div 
  *ngIf="user?.photoURL; else userIcon"
  [matMenuTriggerFor]="userMenu">
  <img
    class="user-avatar"
    [src]="user?.photoURL" 
    alt="">
</div>

<ng-template #userIcon>
  <button 
    mat-icon-button 
    [matMenuTriggerFor]="userMenu">
    <mat-icon>account_circle</mat-icon>
  </button> 
</ng-template>


<mat-menu #userMenu="matMenu">
  <button 
    [routerLink]="['profile']"
    mat-menu-item>
    <span>Profile</span>
  </button>
  <button 
    mat-menu-item
    (click)="logOut()">
    <span>Signout</span>
  </button>
</mat-menu> 